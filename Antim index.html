<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mumbai Bites - Machrolli</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}
body{background:#fff8f0;color:#222;transition:.3s; line-height: 1.6;}
body.dark{background:#121212;color:#eee}
body.dark .card,body.dark .summary,body.dark .section-box,body.dark .admin-panel{background:#1e1e1e;color:#eee}
body.dark select, body.dark input {background: #333; color: #fff; border-color: #444;}

header{background:#b22222;color:#fff;position:sticky;top:0;z-index:999; box-shadow: 0 2px 10px rgba(0,0,0,0.1);}
.navbar{display:flex;justify-content:space-between;align-items:center;padding:8px 15px}
.nav-links{display:flex;gap:18px}
.nav-links a{color:#fff;text-decoration:none;font-weight:500; font-size: 14px;}
.menu-toggle{display:none;font-size:24px;cursor:pointer}

.logo-img {height: 75px; width: auto; max-width: 220px; object-fit: contain;}

.hero{
background:linear-gradient(rgba(0,0,0,.55),rgba(0,0,0,.55)),
url("https://images.unsplash.com/photo-1504674900247-0877df9cc836");
background-size:cover;background-position:center;
color:#fff;text-align:center;padding:80px 15px
}

.container{max-width:1100px;margin:auto;padding:20px}
.filter-bar{display:flex;gap:10px;flex-wrap:wrap;margin:15px 0}

.menu-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:20px;margin-top:12px}
.card{background:#fff;border-radius:16px;padding:15px;box-shadow:0 6px 18px rgba(0,0,0,.08); position: relative;}
.card img{width:100%;height:160px;object-fit:cover;border-radius:12px}
.price{color:#e53935;font-weight:700; font-size: 1.1rem; margin: 8px 0;}

select,button,input{width:100%;padding:10px;margin-top:8px;border-radius:8px;border:1px solid #ddd; outline: none;}
button{background:#e53935;color:#fff;border:none;font-weight:600;cursor:pointer; transition: 0.3s;}

.summary{background:#fff;padding:20px;border-radius:14px;margin-top:25px; border-left: 5px solid #e53935;}
.order-type-box {margin: 15px 0; padding: 12px; border: 1px solid #ddd; border-radius: 8px; background: #fdfdfd;}
body.dark .order-type-box {background: #2a2a2a; border-color: #444;}

.total{font-size:22px;font-weight:700;color:#e53935;}
.section-box{background:#fff;padding:25px;border-radius:14px;margin-top:40px; box-shadow: 0 4px 12px rgba(0,0,0,0.05);}

.dark-btn, .admin-btn{position:fixed;bottom:20px;background:#111;color:#fff;padding:12px;border-radius:50%; width:45px; height:45px; display:flex; align-items:center; justify-content:center; font-size:18px; cursor:pointer; z-index:1000;}
.dark-btn{right:20px;}
.admin-btn{left:20px; border-radius: 10px; width: auto; font-size: 12px;}

.admin-panel{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:#fff;overflow:auto;padding:20px;z-index:9999}

.gallery-grid {display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px; margin-top: 20px;}
.gallery-item img {width: 100%; border-radius: 12px; height: 250px; object-fit: cover;}

@media(max-width:768px){
.nav-links{display:none;flex-direction:column;background:#b22222;position:absolute;top:60px;right:0;padding:20px;width:180px;}
.nav-links.active{display:flex}
.menu-toggle{display:block}
}
</style>
</head>

<body>

<audio id="orderSound" preload="auto">
<source src="https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3" type="audio/mpeg">
</audio>

<header>
<div class="navbar">
<img src="https://image2url.com/r2/default/images/1772175824633-c2f27389-c67e-4e63-a765-fe6027b88928.png" alt="Mumbai Bites Logo" class="logo-img">
<div class="menu-toggle" onclick="toggleMenu()">‚ò∞</div>
<div class="nav-links" id="navLinks">
<a href="#home">Home</a>
<a href="#menu">Menu</a>
<a href="#gallery">Gallery</a>
<a href="#about">About</a>
<a href="#contact">Contact</a>
</div>
</div>
</header>

<section class="hero" id="home">
<h1>Taste of Mumbai in Machrolli</h1>
<p>Fresh, Hygiene aur Lajawab Swaad!</p>
</section>

<div class="container">
<h2 id="menu">üçî Our Menu</h2>
<div class="filter-bar">
<input type="text" id="searchInput" placeholder="üîç Search food...">
<select id="categoryFilter"></select>
</div>

<div id="menuBox"></div>

<div class="summary">
<h3>üõí Order Summary</h3>
<input type="text" id="customerName" placeholder="üë§ Your Name (Required)" style="margin-bottom:15px; border: 1px solid #e53935;">

<div class="order-type-box">
    <p style="font-weight: 600; margin-bottom: 8px; font-size: 14px;">üìç Order Kaisa Chahiye?</p>
    <div style="display: flex; gap: 20px;">
        <label style="cursor: pointer;"><input type="radio" name="orderType" value="Packing" checked> üì¶ Packing</label>
        <label style="cursor: pointer;"><input type="radio" name="orderType" value="Table"> üçΩÔ∏è Table</label>
    </div>
</div>

<div id="orderList"></div>
<p class="total">Total: ‚Çπ<span id="total">0</span></p>
<button onclick="sendWhatsApp()" style="background: #25D366; margin-top: 15px;"> order on WhatsApp</button>
</div>

<div class="section-box" id="gallery">
<h2 style="color:#e53935">üì∏ Gallery</h2>
<div class="gallery-grid" id="galleryGrid"></div>
</div>

<div class="section-box" id="about">
<h2 style="color:#e53935; margin-bottom: 15px;">üìñ About Mumbai Bites Machrolli</h2>
<p>Swagat hai <b>Mumbai Bites</b> mein! Hamara maqsad hai Machrolli ke logon ko asli aur authentic Mumbai street food ka anubhav karana. Hamara har ek dish, chahe wo spicy Vada Pav ho ya chatpata Pav Bhaji, Mumbai ke asli masalon aur swaad se bhara hota hai.</p>
<p style="margin-top:10px;"><b>Humein Kyun Chunein?</b></p>
<ul style="margin-left: 20px; margin-top: 10px;">
    <li>‚≠ê <b>Quality First:</b> Hum sirf fresh vegetables aur branded ingredients ka istemal karte hain.</li>
    <li>‚≠ê <b>Hygiene:</b> Hamare kitchen mein saf-safai ka pura dhyan rakha jata hai.</li>
    <li>‚≠ê <b>Pocket Friendly:</b> Lajawab swaad, wo bhi bilkul kifayati daamon mein.</li>
    <li>‚≠ê <b>Fast Service:</b> Aapka samay hamare liye keemti hai, isliye hum jaldi service dene ka vada karte hain.</li>
</ul>
</div>

<div class="section-box" id="contact">
<h2 style="color:#e53935">Contact</h2>
<p><b>üìû Phone:</b> 9350894106</p>
<div style="width: 100%; margin-top: 15px;">
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3488.4687258410287!2d76.577531!3d29.032731!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x390df03f7e6e5a6b%3A0x2f9069d93e1762c!2sMachhroli%2C%20Haryana%20124108!5e0!3m2!1sen!2sin!4v1700000000000" width="100%" height="300" style="border:0; border-radius:15px;" allowfullscreen="" loading="lazy"></iframe>
</div>
</div>
</div>

<footer style="background-color: #8b0000; color: #fff; padding: 30px 20px; text-align: center; margin-top: 40px;">
<p style="margin-bottom: 15px; font-weight: 600;">Follow Us:</p>
<p style="margin-bottom: 25px;">
<a href="https://www.instagram.com/mumbaibites1?igsh=eGhlbG9zd3FhYjRu" target="_blank" style="color: #fff; text-decoration: none; margin: 0 15px; font-size: 14px; border: 1px solid #fff; padding: 5px 10px; border-radius: 5px;">Instagram</a>
<a href="https://wa.me/919350894106" target="_blank" style="color: #fff; text-decoration: none; margin: 0 15px; font-size: 14px; border: 1px solid #fff; padding: 5px 10px; border-radius: 5px;">WhatsApp</a>
</p>
<p>¬© 2026 Mumbai Bites ‚Äì Machrolli. All Rights Reserved.</p>
</footer>

<div class="dark-btn" onclick="toggleDark()">üåô</div>
<div class="admin-btn" onclick="openAdmin()">Admin</div>

<div class="admin-panel" id="adminPanel">
<h2 id="adminHeader">Admin Control Panel</h2>
<hr><br>
<h3 id="formTitle">Add/Edit Item</h3>
<input id="editId" type="hidden">
<input id="pCat" placeholder="Category (e.g. Snacks)">
<input id="pName" placeholder="Product name">
<input id="pHalf" placeholder="Half price (if any)">
<input id="pFull" placeholder="Full price">
<input id="pImgUrl" placeholder="Image URL">
<button id="saveBtn" onclick="addProduct()" style="background: green;">Save Product</button>
<button id="cancelBtn" onclick="resetForm()" style="background: gray; display: none; margin-top: 5px;">Cancel Edit</button>

<div id="adminList" style="margin-top:20px"></div>

<hr style="margin-top:30px">
<h3 style="margin-top:20px">Add Gallery Image</h3>
<input id="gImgUrl" placeholder="Image URL for Gallery">
<button onclick="addGalleryImage()" style="background: green; margin-top:10px;">Save Gallery Image</button>
<div id="adminGalleryList" style="margin-top:20px"></div>

<button onclick="closeAdmin()" style="background:black;margin-top:20px">Close Admin Panel</button>
</div>

<script>
let menuItems = JSON.parse(localStorage.getItem('mb_menu')) || [
    {id: 1, category:"Snacks",name:"Vada Pav",half:20,full:35,img:"https://images.unsplash.com/photo-1606491956689-2ea8c5369511", isStocked: true},
    {id: 2, category:"Main Course",name:"Pav Bhaji",half:60,full:100,img:"https://images.unsplash.com/photo-1626132646529-500dd19c440f", isStocked: true}
];
let galleryImages = JSON.parse(localStorage.getItem('mb_gallery')) || [];
let cart = [];

const menuBox=document.getElementById("menuBox");
const categoryFilter=document.getElementById("categoryFilter");
const searchInput=document.getElementById("searchInput");
const adminPanel=document.getElementById("adminPanel");
const adminList=document.getElementById("adminList");
const galleryGrid = document.getElementById("galleryGrid");
const adminGalleryList = document.getElementById("adminGalleryList");

function saveData() { 
    localStorage.setItem('mb_menu', JSON.stringify(menuItems)); 
    localStorage.setItem('mb_gallery', JSON.stringify(galleryImages));
}

function populateCategories(){
    let cats=["All",...new Set(menuItems.map(i=>i.category))];
    categoryFilter.innerHTML=cats.map(c=>`<option value="${c}">${c}</option>`).join("");
}

searchInput.addEventListener("input",renderMenu);
categoryFilter.addEventListener("change",renderMenu);

function toggleMenu(){document.getElementById("navLinks").classList.toggle("active")}
function toggleDark(){document.body.classList.toggle("dark")}

function openAdmin(){
    let pass=prompt("Admin Password?");
    if(pass==="1234"){ 
        adminPanel.style.display="block"; 
        renderAdminList(); 
        renderAdminGalleryList();
    } else { alert("Wrong Password!"); }
}

function closeAdmin(){ adminPanel.style.display="none"; resetForm(); }

function addProduct(){
    let id = document.getElementById("editId").value;
    let name = document.getElementById("pName").value;
    let half = document.getElementById("pHalf").value;
    let full = document.getElementById("pFull").value;
    let cat = document.getElementById("pCat").value;
    let url = document.getElementById("pImgUrl").value;

    if(!name || !full || !cat){ alert("Name, Category & Full Price required!"); return; }
    
    if(id) {
        let index = menuItems.findIndex(i => i.id == id);
        menuItems[index] = { ...menuItems[index], category: cat, name: name, half: half ? parseInt(half) : null, full: parseInt(full), img: url };
    } else {
        menuItems.push({ id: Date.now(), category: cat, name: name, half: half ? parseInt(half) : null, full: parseInt(full), img: url, isStocked: true });
    }
    saveData(); resetForm(); populateCategories(); renderMenu(); renderAdminList();
}

function editItem(id) {
    let item = menuItems.find(i => i.id == id);
    document.getElementById("editId").value = item.id;
    document.getElementById("pName").value = item.name;
    document.getElementById("pHalf").value = item.half || '';
    document.getElementById("pFull").value = item.full;
    document.getElementById("pCat").value = item.category;
    document.getElementById("pImgUrl").value = item.img;
    document.getElementById("formTitle").innerText = "Editing: " + item.name;
    document.getElementById("saveBtn").innerText = "Update Now";
    document.getElementById("cancelBtn").style.display = "block";
    adminPanel.scrollTo(0,0);
}

function addGalleryImage(){
    let url = document.getElementById("gImgUrl").value;
    if(!url){alert("Paste Image Link First!"); return;}
    galleryImages.push(url);
    saveData(); renderGallery(); renderAdminGalleryList();
    document.getElementById("gImgUrl").value = '';
}

function renderAdminList(){
    let html = "<h3>All Menu Items</h3>";
    menuItems.forEach((p,i) => {
        html += `<div style="display:flex; justify-content:space-between; align-items:center; padding:10px; border-bottom:1px solid #ddd;">
            <span>${p.name}</span>
            <div>
                <button onclick="editItem(${p.id})" style="background:orange; width:auto; padding:5px 10px;">Edit</button>
                <button onclick="deleteProduct(${i})" style="background:red; width:auto; padding:5px 10px;">Del</button>
            </div>
        </div>`;
    });
    adminList.innerHTML = html;
}

function renderAdminGalleryList(){
    let html = "<h3>Gallery Images</h3>";
    galleryImages.forEach((img,i) => {
        html += `<div style="display:flex; align-items:center; justify-content:space-between; padding:5px; border-bottom:1px solid #eee">
            <img src="${img}" style="width:40px;height:40px;object-fit:cover;border-radius:4px">
            <button onclick="deleteGalleryImage(${i})" style="background:red;width:auto;padding:5px 10px;">Del</button>
        </div>`;
    });
    adminGalleryList.innerHTML = html;
}

function deleteProduct(i){ if(confirm("Delete this Item?")){ menuItems.splice(i,1); saveData(); renderMenu(); renderAdminList(); } }
function deleteGalleryImage(i){ if(confirm("Delete Image?")){ galleryImages.splice(i,1); saveData(); renderGallery(); renderAdminGalleryList(); } }

function resetForm() {
    document.getElementById("editId").value='';
    document.getElementById("pName").value=''; 
    document.getElementById("pHalf").value=''; 
    document.getElementById("pFull").value=''; 
    document.getElementById("pCat").value=''; 
    document.getElementById("pImgUrl").value='';
    document.getElementById("formTitle").innerText = "Add/Edit Item";
    document.getElementById("saveBtn").innerText = "Save Product";
    document.getElementById("cancelBtn").style.display = "none";
}

function renderMenu(){
    let search = searchInput.value.toLowerCase();
    let cat = categoryFilter.value;
    let html = "";
    let filtered = menuItems.filter(item => (cat === "All" || item.category === cat) && item.name.toLowerCase().includes(search));
    let categories = [...new Set(filtered.map(i => i.category))];
    
    categories.forEach(c => {
        html += `<h3 style="margin-top:25px;color:#e53935; border-bottom: 2px solid #e53935; display:inline-block;">${c}</h3><div class="menu-grid">`;
        filtered.filter(item => item.category === c).forEach(item => {
            html += `<div class="card">
                <img src="${item.img}" onerror="this.src='https://via.placeholder.com/240x160?text=Food'">
                <h3>${item.name}</h3>
                <div class="price">${item.half ? `H: ‚Çπ${item.half} | ` : ""}F: ‚Çπ${item.full}</div>
                <div style="display:flex; gap:5px;">
                    <select id="plate-${item.id}">${item.half ? '<option value="Half">Half</option>' : ''}<option value="Full">Full</option></select>
                    <select id="qty-${item.id}">${[1,2,3,4,5,10].map(n => `<option value="${n}">${n}</option>`).join("")}</select>
                </div>
                <button onclick="addToCart(${item.id})">‚ûï Add to Order</button>
            </div>`;
        });
        html += "</div>";
    });
    menuBox.innerHTML = html || "<p>Nothing found.</p>";
}

function addToCart(itemId){
    let item = menuItems.find(i => i.id == itemId);
    let plate = document.getElementById("plate-"+itemId).value;
    let qty = parseInt(document.getElementById("qty-"+itemId).value);
    let price = (plate === "Half" && item.half) ? item.half : item.full;
    cart.push({name:item.name, plate:plate, qty:qty, price:price});
    updateCart();
    document.getElementById("orderSound").play().catch(e => {});
}

function updateCart(){
    let html="", total=0;
    cart.forEach((c, i) => {
        let t = c.price * c.qty; total += t;
        html += `<p style="display:flex; justify-content:space-between; margin-bottom:5px;"><span>${c.name} (${c.plate}) x${c.qty}</span> <span>‚Çπ${t} <b onclick="cart.splice(${i},1);updateCart();" style="color:red; cursor:pointer; margin-left:10px;">‚úï</b></span></p>`;
    });
    document.getElementById("total").innerText = total;
    document.getElementById("orderList").innerHTML = html || "Cart is empty";
}

function sendWhatsApp(){
    let name = document.getElementById("customerName").value;
    if(!name){ alert("Enter Name!"); return; }
    let type = document.querySelector('input[name="orderType"]:checked').value;
    let msg = `*New Order: ${name}*\n*Type:* ${type}\n---\n`;
    cart.forEach(c => msg += `‚Ä¢ ${c.name} (${c.plate}) x${c.qty} = ‚Çπ${c.price * c.qty}\n`);
    msg += `---\n*Total: ‚Çπ${document.getElementById("total").innerText}*`;
    window.open(`https://wa.me/919350894106?text=${encodeURIComponent(msg)}`,"_blank");
}

function renderGallery(){
    let html = "";
    galleryImages.forEach(img => html += `<div class="gallery-item"><img src="${img}" onerror="this.src='https://via.placeholder.com/300?text=Invalid+Link'"></div>`);
    galleryGrid.innerHTML = html || "<p style='text-align:center;width:100%'>Gallery is empty.</p>";
}

populateCategories(); renderMenu(); renderGallery();
</script>
</body>
</html>
